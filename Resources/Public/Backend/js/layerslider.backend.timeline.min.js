function createTimelineInstance(t,o){function e(){f=h.duration.toseconds()<this.totalDuration()?this.progress()*(this.totalDuration()/h.duration.toseconds()):this.progress(),f>=1&&y===!1?(this.pause(),this.progress()<1&&this.progress(this.progress()/f)):(0==f&&p.removeClass("layer-visible"),(y||f<=1)&&(l.slider("value",100*f),c.width(l.slider("value")+"%")),d.html(this.time().toFixed(2)))}function n(){var t={value:0,range:!1,min:0,max:100,step:.1,slide:function(t,o){var e;x.pause(),e=h.duration.toseconds()<x.totalDuration()?h.duration.toseconds()/x.totalDuration()*o.value/100:o.value/100,x.progress(e),d.html(x.time().toFixed(2))}};l.slider(t)}function r(){d.html("0.00"),c.width(0)}function i(t){function o(t){return!isNaN(t)}var e=[];return $.each(t.data("ls").split(";"),function(t,n){var r=$.trim(n).split(":");""!=r[0]&&(0==$.trim(r[1]).length?e[$.trim(r[0])]=null:"true"==r[1]?e[$.trim(r[0])]=!0:"false"==r[1]?e[$.trim(r[0])]=!1:o(r[1])?e[$.trim(r[0])]=parseFloat(r[1]):e[$.trim(r[0])]=$.trim(r[1]))}),e}function a(){$("#play-"+o).off().on("click",function(){x.play()}),$("#pause-"+o).off().on("click",function(){x.pause()}),$("#reverse-"+o).off().on("click",function(){x.reverse()}),$("#resume-"+o).off().on("click",function(){x.resume()}),$("#stagger-"+o).off().on("click",function(){x.play("stagger")}),$("#restart-"+o).off().on("click",function(){x.progress(0).play()}),$("#recreate-"+o).off().on("click",function(){x.pause().progress(0).kill(),createTimelineInstance($(this).data("slider"),$(this).data("slide"))})}function s(){var t=$("#time-line-slide-"+o+" #sliderWrapper .slider-times");t.html("");for(var e=0;e<=h.duration.toseconds();e++)t.append($("<div />").html(e+"s").css("left",e/h.duration.toseconds()*100+"%"))}var u,l,d,c,p,f,x,h,g,y;y=!1,u=$(".stage-"+o+" .ls-slider-"+t+"-slide-"+o),l=$("#slider-"+o),d=$(".timer-"+o),c=$("#time-line-slide-"+o+" .timeline-td-overlay"),p=$(" > *",u),f=0,x=new LS_GSAP.TimelineMax,h=i(u),g={transitionin:null,offsetxin:null,offsetyin:null,durationin:1e3,startatin:0,easingin:"easeInOutQuint",fadein:!1,rotatein:0,rotatexin:0,rotateyin:0,skewxin:0,skewyin:0,scalexin:1,scaleyin:1,transformoriginin:"50% 50% 0",clipin:null,bgcolorin:null,colorin:null,radiusin:null,widthin:null,heightin:null,filterin:null,transformperspectivein:500,texttransitionin:!1,textstartatin:"transitioninend",texttypein:"chars_asc",textshiftin:50,textoffsetxin:null,textoffsetyin:null,textdurationin:1e3,texteasingin:"easeInOutQuint",textfadein:!1,textrotatein:0,textrotatexin:0,textrotateyin:0,textscalexin:1,textscaleyin:1,textskewxin:0,textskewyin:0,texttransformoriginin:"50% 50% 0",texttransformperspectivein:500,loop:!1,loopstartat:"allinend",loopoffsetx:null,loopoffsety:null,loopduration:1e3,loopeasing:"linear",loopopacity:1,looprotate:0,looprotatex:0,looprotatey:0,loopskewx:0,loopskewy:0,loopscalex:1,loopscaley:1,looptransformorigin:"50% 50% 0",loopclip:null,loopcount:1,looprepeatdelay:0,loopyoyo:!1,looptransformperspective:500,loopfilter:null,texttransitionout:!1,textstartatout:"allinandloopend",texttypeout:"chars_asc",textshiftout:50,textoffsetxout:null,textoffsetyout:null,textdurationout:1e3,texteasingout:"easeInOutQuint",textfadeout:!1,textrotateout:0,textrotatexout:0,textrotateyout:0,textscalexout:1,textscaleyout:1,textskewxout:0,textskewyout:0,texttransformoriginout:"50% 50% 0",texttransformperspectiveout:500,transitionout:null,startatout:"slidechangeonly",offsetxout:null,offsetyout:null,durationout:1e3,easingout:"easeInOutQuint",fadeout:!1,rotateout:0,rotatexout:0,rotateyout:0,skewxout:0,skewyout:0,scalexout:1,scaleyout:1,transformoriginout:"50% 50% 0",clipout:null,filterout:null,transformperspectiveout:500,bgcolorout:null,colorout:null,radiusout:null,widthout:null,heightout:null},r(),p.each(function(t,o){function n(t){var o,e,n;switch("undefined"==typeof F&&(F=new SplitType(N)),e=t.match(/(.*)_/)[1],n=t.match(/_(.*)/)[1],e){case"lines":o=r(F.lines,n);break;case"words":o=r(F.words,n);break;case"chars":o=r(F.chars,n)}return o}function r(t,o){var e,n,r;if(r=t,"desc"==o)r=t.slice(0).reverse();else if("rand"==o)r=t.slice(0).sort(function(){return.5-Math.random()});else if("center"==o){for(n=Math.floor(t.length/2),r=[t[n]],e=1;e<=n;e++)r.push(t[n-e],t[n+e]);r.length=t.length}else if("edge"==o){for(n=Math.floor(t.length/2),r=[t[0]],e=1;e<=n;e++)r.push(t[t.length-e],t[e]);r.length=t.length}return r}function a(t,o,e){if(o){var n,r,i,a;n=/(blur|brightness|contrast|grayscale|hue-rotate|invert|saturate|sepia)/gi,r=o.match(n),i="",a={blur:0,brightness:100,contrast:100,grayscale:0,"hue-rotate":0,invert:0,saturate:100,sepia:0};for(var s=0;s<r.length;s++){var u,l,d,c,p,f,x;if(p=r[s],u=new RegExp(p+"\\((.*?)\\)","i"),o.match(u).length>0){switch(c=parseInt(o.match(u)[1]),"in"===e?(l=c,d=a[p]):(l=a[p],d=c),f=100*t.progress()>>0,x=l<d?l+Math.abs(l-d)/100*f:l-Math.abs(l-d)/100*f,r[s]){case"blur":i+=p+"("+x+"px) ";break;case"hue-rotate":i+=p+"("+x+"deg) ";break;default:i+=p+"("+x+"%) "}LS_GSAP.TweenMax.set(N,{"-webkit-filter":i,filter:i})}}}}function s(){function t(){var t,e=0;if(w.loop){if("undefined"==typeof d())return 0;if(0===d())t=1;else{if(!(d()>0))return 100-o();t=d()+1}(w.loopyoyo===!0||d()>=1||d()===-1)&&(e=w.looprepeatdelay);var n=100/(h.duration/((w.loopduration+e)*t-e));return n+o()>100?100-o():n}return 0}function o(){return 100/(h.duration/w.loopstartat)}function e(){var t=100/(h.duration/(w.durationin+w.durationout+(w.startatout-w.durationin)))-100/(h.duration/w.startatin);return t>100-n()?100-n():t}function n(){return 100/(h.duration/w.startatin)}function r(){var t;return t=h.duration<=w.totalduration?h.duration:w.totalduration,w.durationin/(t-w.startatin)*100}function i(){if(w.transitionout){var t;return t=w.startatout>=h.duration?100:h.duration-w.startatout<w.durationout?100-(h.duration-w.startatout)/(h.duration-(h.duration-(w.startatout+(h.duration-w.startatout)-w.startatin)))*100:100-w.durationout/(h.duration-(h.duration-(w.startatout+w.durationout-w.startatin)))*100}return 100}function a(){var t=0,o=0,e=100;return t=w.textdurationin+(H.length-2)*w.textshiftin,w.texttransitionout?(o=w.textdurationout+(R.length-2)*w.textshiftout,e=100/(h.duration/(t+o+(w.textstartatout-t)))-100/(h.duration/w.textstartatin)):e=100-s(),e>100-n()?100-n():e}function s(){return 100/(h.duration/w.textstartatin)}function u(){var t,o,e=0;return t=w.textdurationin+(H.length-2)*w.textshiftin,w.texttransitionout?(e=w.textdurationout+(R.length-2)*w.textshiftout,o=h.duration-w.textstartatin-(h.duration-(w.textstartatout+e))):o=h.duration-w.textstartatin,t/o*100}function l(){var t,o=0;return w.texttransitionout?(o=w.textdurationout+(R.length-2)*w.textshiftout,t=h.duration-w.textstartatin-(h.duration-(w.textstartatout+o)),100-o/t*100):100}w.totalduration=h.duration-(h.duration-w.startatout-w.durationout),w.texttotalduration=h.duration-(h.duration-w.textstartatout-w.textdurationout),k.css({width:e()+"%",marginLeft:n()+"%",background:"linear-gradient(135deg, #efcb92 "+r()+"%, #5fbe65 0px ,#5fbe65 "+i()+"%, #efcb92 0px)"}),w.loop===!0&&(b.css({width:t()+"%",marginLeft:o()+"%"}),b.show()),w.texttransitionin||w.texttranistionout?(W.css({width:a()+"%",marginLeft:s()+"%",background:"linear-gradient(135deg, #8a87d7 "+u()+"%, #fbb5de 0px ,#fbb5de "+l()+"%, #8a87d7 0px)"}),W.show()):W.hide()}function u(t){var o,e;return o=t.split(" "),e="",$.each(o,function(t,o){if(o.indexOf("px")>=0)switch(t){case 0:e=parseInt(o)+"px ";break;case 1:e+=N.getHiddenDimensions().outerWidth-parseInt(o)+"px ";break;case 2:e+=N.getHiddenDimensions().outerHeight-parseInt(o)+"px ";break;case 3:e+=parseInt(o)+"px "}o.indexOf("%")>=0}),"rect("+e+")"}function l(t){return $.each(t,function(o,e){"undefined"!=typeof e&&null!==e||delete t[o]}),t}function d(){var t=1;return w.loopyoyo&&(t=2),w.loopcount===-1?(y=!0,w.loopcount):0===w.loopcount?0:w.loopcount>=1?w.loopcount*t-1:void 0}function c(o,e){function n(){return(Math.random()*(parseInt(o.match(/\((.*)\)/)[1].split(",")[1])-parseInt(o.match(/\((.*)\)/)[1].split(",")[0]))+parseInt(o.match(/\((.*)\)/)[1].split(",")[0])).toFixed(0)}var r=[];if(String(o).split("|").length>1)return String(o).split("|");if(String(o).match(/random/)){if(e&&e.length>0)for(t=0;t<e.length;t++)r.push(n());return r}return p(o)}function p(t){if(null==t)return"";if("undefined"!=typeof t){if(String(t).match(/lw/))return S.outerWidth()*(parseInt(t)/100);if(String(t).match(/lh/))return S*(parseInt(t)/100);if(String(t).match(/sw/))return C.outerWidth()*(parseInt(t)/100);if(String(t).match(/sh/))return C.outerHeight()*(parseInt(t)/100);if(String(t).match(/random/))return(Math.random()*(parseInt(t.match(/\((.*)\)/)[1].split(",")[1])-parseInt(t.match(/\((.*)\)/)[1].split(",")[0]))+parseInt(t.match(/\((.*)\)/)[1].split(",")[0])).toFixed(0);switch(t){case"left":return-(S.outerWidth()+S.position().left);case"right":return C.width()-N.position().left;case"top":return-(S.outerHeight()+N.position().top);case"bottom":return C.height()-N.position().top;default:return t}}}function f(t,o){var e=[];$.each(o,function(o,e){"undefined"==typeof t[o]&&(t[o]=e)});for(var n in t)t.hasOwnProperty(n)&&(e[n]=m(t[n],t));return e}function m(t,o){function e(){return m(o.startatin,o)+o.durationin}function r(){return o.texttransitionin?(c=n(o.texttypein),m(o.textstartatin,o)+o.textdurationin+c.length*o.textshiftin):0}function i(){return o.texttransitionout?(c=n(o.texttypeout),m(o.textstartatout,o)+o.textdurationout+c.length*o.textshiftout):0}function a(){var t,e,n=0,r=1,i=0;if(o.loopyoyo&&(r=2),o.loopcount===-1&&(y=!0,e=o.loopcount),0===o.loopcount&&(e=0),o.loopcount>=1&&(e=o.loopcount*r-1),o.loop){if("undefined"==typeof e)return 0;if(0===e)t=1;else{if(!(e>0))return h.duration;t=e+1}(o.loopyoyo===!0||e>=1||e===-1)&&(n=o.looprepeatdelay),i=(o.loopduration+n)*t-n+m(o.loopstartat,o)}return i}var s,u,l,d,c;switch(s=0,u=0,l="",d=t,d=$.trim(d),d.indexOf("+")>1&&(s=d.match(/(\d*[0-9])/)[1]>0?parseInt(d.match(/(\d*[0-9])/)[1]):0),d.indexOf("-")>1&&(u=d.match(/(\d*[0-9])/)[1]>0?parseInt(d.match(/(\d*[0-9])/)[1]):0),l=null!==d.match(/(\w*[a-zA-Z])/)?d.match(/(\w*[a-zA-Z])/)[1]:d){case"slidechangeonly":return m(h.duration,o)+s-u;case"transitioninstart":return m(o.startatin,o)+s-u;case"transitioninend":return m(o.startatin,o)+parseInt(o.durationin)+s-u;case"textinstart":return parseInt(o.textstartatin)+s-u;case"textinend":return r()+s-u;case"allinend":return Math.max(e(),r())+s-u;case"loopstart":return m(o.loopstartat,o)+s-u;case"loopend":return a()+s-u;case"transitioninandloopend":return Math.max(e(),a())+s-u;case"textinandloopend":return Math.max(r(),a())+s-u;case"allinandloopend":return Math.max(e(),r(),a())+s-u;case"textoutstart":return m(o.textstartatout,o)+s-u;case"textoutend":return i()+s-u;case"textoutandloopend":return Math.max(a(),i())+s-u;default:return t}}var v,w,k,b,S,A,C,M,I,T,P,_,L,G,O,X,Y,D,U,F,H,R,W,N;return v=$(o),N=$(".ls-layer",o),w=f(i(N),g),k=$(".duration-"+N.prop("id")),b=$(".durationloop-"+N.prop("id")),W=$(".durationtext-"+N.prop("id")),S=N.closest(".ls-in-out"),A=N.closest(".ls-clip"),C=N.closest(".ls-slide"),M="0 "+N.getHiddenDimensions().outerWidth+"px "+N.getHiddenDimensions().outerHeight+"px 0",I={opacity:w.fadein?0:1,ease:w.easingin,x:p(w.offsetxin),y:p(w.offsetyin),rotation:p(w.rotatein),rotationX:p(w.rotatexin),rotationY:p(w.rotateyin),skewX:p(w.skewxin),skewY:p(w.skewyin),scaleX:p(w.scalexin),scaleY:p(w.scaleyin),transformOrigin:w.transformoriginin,width:w.widthin,height:w.heightin,onStart:function(){v.addClass("layer-visible")},onUpdate:function(){v.addClass("transition-running"),v.addClass("layer-visible")},onComplete:function(){v.removeClass("transition-running")},onReverseComplete:function(){v.removeClass("transition-running"),v.removeClass("layer-visible")}},G={transformPerspective:w.transformperspectivein},T={ease:w.easingin?w.easingin:null,backgroundColor:w.bgcolorin,color:w.colorin,borderRadius:w.radiusin,width:w.widthin,height:w.heightin,onUpdate:function(){a(this,w.filterin,"in")}},P={x:p(w.loopoffsetx),y:p(w.loopoffsety),opacity:w.loopopacity,rotation:p(w.looprotate),rotationX:p(w.looprotatex),rotationY:p(w.looprotatey),skewX:p(w.loopskewx),skewY:p(w.loopskewy),scaleX:p(w.loopscalex),scaleY:p(w.loopscaley),transformOrigin:w.looptransformorigin,repeat:d(),repeatDelay:w.looprepeatdelay.toseconds(),yoyo:w.loopyoyo,ease:w.loopeasing,onUpdate:function(){w.loopcount===-1&&v.addClass("layer-visible"),a(this,w.loopfilter,"out")}},X={transformPerspective:w.looptransformperspective},Y={repeat:d(),repeatDelay:w.looprepeatdelay.toseconds(),yoyo:w.loopyoyo,ease:w.loopeasing,onUpdate:function(){a(this,w.loopfilter,"out")}},_={opacity:w.fadeout?0:1,ease:w.easingout?w.easingout:null,x:p(w.offsetxout),y:p(w.offsetyout),rotation:p(w.rotateout),rotationX:p(w.rotatexout),rotationY:p(w.rotateyout),skewX:p(w.skewxout),skewY:p(w.skewyout),transformOrigin:w.transformoriginout,width:w.widthout,height:w.heightout,onStart:function(){v.addClass("layer-visible")},onUpdate:function(){v.addClass("transition-running"),v.addClass("layer-visible")},onComplete:function(){v.removeClass("transition-running"),v.removeClass("layer-visible")},onReverseComplete:function(){v.removeClass("transition-running"),v.addClass("layer-visible")}},O={transformPerspective:w.transformperspectiveout},L={ease:w.easingout?w.easingout:null,backgroundColor:w.bgcolorout,color:w.colorout,borderRadius:w.radiusout,width:w.widthout,height:w.heightout,onUpdate:function(){a(this,w.filterout,"out")}},w.transitionin&&x.add(LS_GSAP.TweenMax.from(v,w.durationin.toseconds(),l(I)),w.startatin.toseconds()).add(LS_GSAP.TweenMax.from(N,w.durationin.toseconds(),l(T)),w.startatin.toseconds()).add(LS_GSAP.TweenMax.from(v,w.durationin.toseconds(),l(G)),w.startatin.toseconds()),(w.texttransitionin||w.texttransitionout)&&(w.texttypein.match(/(.*)_/)&&(H=n(w.texttypein)),w.texttypeout.match(/(.*)_/)&&(R=n(w.texttypeout))),w.texttransitionin===!0&&(D={ease:w.texteasingin?w.texteasingin:null,opacity:w.textfadein?0:1,transformOrigin:w.texttransformoriginin,transformPerspective:w.texttransformperspectivein,cycle:{x:c(w.textoffsetxin,H).toArray(),y:c(w.textoffsetyin,H).toArray(),rotation:c(w.textrotatein,H).toArray(),rotationX:c(w.textrotatexin,H).toArray(),rotationY:c(w.textrotateyin,H).toArray(),skewX:c(w.textskewxin,H).toArray(),skewY:c(w.textskewyin,H).toArray(),scaleX:c(w.textscalexin,H).toArray(),scaleY:c(w.textscaleyin,H).toArray()},onStart:function(){v.addClass("layer-visible")},onUpdate:function(){v.addClass("transition-running"),v.addClass("layer-visible")},onComplete:function(){v.removeClass("transition-running")},onReverseComplete:function(){v.removeClass("transition-running")}},x.add(LS_GSAP.TweenMax.staggerFrom(H,w.textdurationin.toseconds(),l(D),w.textshiftin.toseconds()),w.textstartatin.toseconds())),w.texttransitionout===!0&&(U={ease:w.texteasingout?w.texteasingout:null,opacity:w.textfadeout?0:1,transformOrigin:w.texttransformoriginout,transformPerspective:w.texttransformperspectiveout,cycle:{x:c(w.textoffsetxout,R).toArray(),y:c(w.textoffsetyout,R).toArray(),rotation:c(w.textrotateout,R).toArray(),rotationX:c(w.textrotatexout,R).toArray(),rotationY:c(w.textrotateyout,R).toArray(),skewX:c(w.textskewxout,R).toArray(),skewY:c(w.textskewyout,R).toArray(),scaleX:c(w.textscalexout,R).toArray(),scaleY:c(w.textscaleyout,R).toArray()},onStart:function(){v.addClass("layer-visible")},onUpdate:function(){v.addClass("transition-running"),v.addClass("layer-visible")},onComplete:function(){v.removeClass("transition-running")},onReverseComplete:function(){v.removeClass("transition-running")}},x.add(LS_GSAP.TweenMax.staggerTo(R,w.textdurationout.toseconds(),l(U),w.textshiftout.toseconds()),w.textstartatout.toseconds())),w.transitionout&&x.add(LS_GSAP.TweenMax.to(v,w.durationout.toseconds(),l(_)),w.startatout.toseconds()).add(LS_GSAP.TweenMax.to(N,w.durationout.toseconds(),l(L)),w.startatout.toseconds()).add(LS_GSAP.TweenMax.to(v,w.durationout.toseconds(),l(O)),w.startatout.toseconds()),w.clipin&&x.add(LS_GSAP.TweenMax.fromTo(A,w.durationin.toseconds(),{ease:w.easingin?w.easingin:null,clip:u(w.clipin)},{ease:w.easingin?w.easingin:null,clip:"rect("+M+")"}).startTime(0),w.startatin.toseconds()),w.loopclip&&x.add(LS_GSAP.TweenMax.fromTo(A,w.loopduration.toseconds(),{ease:w.loopeasing?w.loopeasing:null,clip:u(w.loopclip),overwrite:"none"},{ease:w.loopeasing?w.loopeasing:null,clip:"rect("+M+")"}).startTime(0),w.loopstartat.toseconds()),w.loop&&"undefined"!=typeof d()&&x.add(LS_GSAP.TweenMax.to(v,w.loopduration.toseconds(),l(P)).startTime(0),w.loopstartat.toseconds()).add(LS_GSAP.TweenMax.to(v,w.loopduration.toseconds(),l(X)).startTime(0),w.loopstartat.toseconds()).add(LS_GSAP.TweenMax.to(N,w.loopduration.toseconds(),l(Y)).startTime(0),w.loopstartat.toseconds()),x.eventCallback("onUpdate",e).progress(0).pause(),s(),null}),x.totalDuration()<h.duration.toseconds()&&x.from($("<div />"),h.duration.toseconds(),{},0).startTime(0),a(x),s(),n()}Array.prototype.toArray=function(){return this},Number.prototype.toArray=function(){return[parseInt(this)]},String.prototype.toArray=function(){return[parseInt(this)]},Number.prototype.toseconds=function(){return parseFloat(this/1e3)},String.prototype.toseconds=function(){return parseFloat(this/1e3)};
//# sourceMappingURL=layerslider.backend.timeline.min.js.map